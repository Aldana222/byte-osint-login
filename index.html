<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Acceso Privado de Byte</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');
    body {
      font-family: 'Share Tech Mono', monospace;
      background: radial-gradient(circle at center, #1a0033 0%, #000 100%);
      color: #fff;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      height: 100vh; margin: 0;
    }
    .container {
      background: rgba(30, 0, 60, 0.85);
      padding: 30px; border-radius: 15px;
      box-shadow: 0 0 25px #8a2be2; text-align: center; width: 340px;
      animation: glow 2s infinite alternate;
    }
    @keyframes glow { from { box-shadow: 0 0 15px #6a0dad; } to { box-shadow: 0 0 30px #b266ff; } }
    h2 { margin-bottom: 10px; color: #d8b4ff; text-shadow: 0 0 8px #b266ff; }
    input[type="password"] {
      padding: 10px; margin: 12px 0; width: 90%; border: none; border-radius: 5px;
      background: #2e004f; color: #fff; font-size: 16px;
    }
    button {
      padding: 10px; width: 95%; background: #8a2be2; color: #fff; border: none;
      border-radius: 5px; font-size: 16px; cursor: pointer; transition: 0.3s;
    }
    button:hover { background: #b266ff; transform: scale(1.05); }
    .hidden { display: none; margin-top: 20px; }
    #error { color: #ff4d6d; font-weight: bold; text-shadow: 0 0 8px #ff4d6d; }
    #ok   { color: #b7f397; font-weight: bold; text-shadow: 0 0 8px #b7f397; }
  </style>
</head>
<body>
  <div class="container">
    <h2>üîê Zona Privada de Byte</h2>
    <p>Introduce la contrase√±a correcta para acceder al archivo protegido.</p>

    <input type="password" id="password" placeholder="Contrase√±a" />
    <button type="button" id="btn">Acceder</button>

    <div id="ok" class="hidden">‚úÖ Acceso concedido. Abriendo descarga‚Ä¶</div>
    <div id="error" class="hidden">‚ùå Contrase√±a incorrecta</div>
  </div>

  <script>
    // ========= CONFIG (todo ofuscado) =========
    // Contrase√±a real cifrada con XOR de 1 byte (clave fija = 73) y luego Base64:
    // Pass real: "byte.bluewolf@protonmail.comD"
    const ENCRYPTED_PASS_B64 = "KzA9LGcrJTwsPiYlLwk5OyY9JickKCAlZyomJA0="; // visible pero no legible
    const PASS_KEY_BYTE = 73; // clave del XOR de la contrase√±a (√∫nico sitio ‚Äúdescifrable‚Äù)

    // Link real cifrado con XOR por clave = contrase√±a real (repeating-key) y luego Base64:
    // Link real: "https://mega.nz/file/3EclFCSK#Ts2H-ypsxaLid2KLOF-7ygb_9ZXvC_IMdeXdnbn5WwA"
    const ENCRYPTED_LINK_B64 = "Cg0AFV1YQ1oIEggNSC4KXQkdAwtCUiwPQiUsPg9BLQdXZk8VBRYPDiAPJEI5IzspQ1oYDg5xWjU1MiEmPShKBzQRCxUBWTE3MQ==";

    // ========= HELPERS =========
    function b64ToBytes(b64) {
      const bin = atob(b64);
      const out = new Uint8Array(bin.length);
      for (let i = 0; i < bin.length; i++) out[i] = bin.charCodeAt(i);
      return out;
    }
    function bytesToStr(bytes) {
      return String.fromCharCode.apply(null, bytes);
    }
    function xorBytesWithByte(arr, keyByte) {
      const out = new Uint8Array(arr.length);
      for (let i = 0; i < arr.length; i++) out[i] = arr[i] ^ keyByte;
      return out;
    }
    function xorBytesWithKey(arr, keyStr) {
      const out = new Uint8Array(arr.length);
      for (let i = 0; i < arr.length; i++) {
        out[i] = arr[i] ^ keyStr.charCodeAt(i % keyStr.length);
      }
      return out;
    }

    // ========= L√ìGICA =========
    function getRealPassword() {
      // Descifra la contrase√±a: XOR 1-byte (73) + Base64
      const enc = b64ToBytes(ENCRYPTED_PASS_B64);
      const dec = xorBytesWithByte(enc, PASS_KEY_BYTE);
      return bytesToStr(dec);
    }

    function getRealLink(realPass) {
      // Descifra el link: XOR con clave = realPass (repeating) + Base64
      const enc = b64ToBytes(ENCRYPTED_LINK_B64);
      const dec = xorBytesWithKey(enc, realPass);
      return bytesToStr(dec);
    }

    function checkPassword() {
      const input = document.getElementById('password').value.trim();
      const realPass = getRealPassword();

      if (input === realPass) {
        document.getElementById('ok').classList.remove('hidden');
        document.getElementById('error').classList.add('hidden');

        const link = getRealLink(realPass);
        // Redirige en la misma pesta√±a (evita popup blockers)
        window.location.assign(link);
        // Si prefieres nueva pesta√±a: window.open(link, "_blank");
      } else {
        document.getElementById('error').classList.remove('hidden');
        document.getElementById('ok').classList.add('hidden');
      }
    }

    document.getElementById('btn').addEventListener('click', checkPassword);
    document.getElementById('password').addEventListener('keydown', (e) => {
      if (e.key === 'Enter') checkPassword();
    });
  </script>
</body>
</html>
